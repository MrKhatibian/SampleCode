// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.33/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/conversion/portalToEditorUtils/parsers/DocumentParser",["dojo/_base/lang","esri/dijit/geoenrichment/utils/JsonXmlConverter","../../ConversionUtil","../../../supportClasses/DocumentOptions"],function(h,e,f,k){return{parseDocument:function(a,g){var c=g.templateJson,b="HTMLextReport"===a.name?a:e.queryTopJson(a,"HTMLextReport")[0];if(b){var d=b.attributes.orientation||"portrait";c.documentOptions.pagesize=k.tryGetStandardPageSize(b.attributes.pagesize,
d);c.documentOptions.orientation=d;["left","right","top","bottom"].forEach(function(a){c.documentOptions[a]=f.ptToPx(b.attributes[a]||0)});h.mixin(c.documentOptions,f.ptToPxObj(f.parseStyleString(b.attributes.style)));if(d=e.queryTopJson(a,"def")[0])d.attributes.align&&(c.documentOptions.align=d.attributes.align),d.attributes.lineSpacing&&(c.documentOptions.lineSpacing=f.ptToPx(d.attributes.lineSpacing));b.attributes.comparisonZoom&&(g.report.defaultComparisonZoom=Number(b.attributes.comparisonZoom));
if(a=e.queryTopJson(a,"tooltip")[0])if(a=e.queryTopJson(a,"table")[0])a=a.attributes||{},c.tooltipInfo={table:{value:!!a.value,alias:!!a.alias,expression:!!a.expression,conditional:!!a.conditional}};g.revisionVersion=b.attributes.revisionVersion?Number(b.attributes.revisionVersion):-1;c.documentOptions.revisionVersion=g.revisionVersion}}}});