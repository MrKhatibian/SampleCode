// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.33/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/supportClasses/templateJsonUtils/fieldInfo/_FieldInfoDataRenderer","esri/dijit/geoenrichment/ReportPlayer/config ../../conditionalStyling/ConditionalStyleUtil ../../../../dataProvider/supportClasses/data/AreaDataUtil ../../../../dataProvider/supportClasses/attachments/AttributesUtil ../../../grid/coreUtils/GridDataUtil esri/dijit/geoenrichment/utils/ObjectUtil dojo/i18n!esri/nls/jsapi".split(" "),function(r,t,u,v,w,x,g){function h(a,b){return void 0===
a||null===a||"number"===typeof a&&isNaN(a)||"NaN"===a||"N/A"===a||"undefined"===a||"null"===a||b&&"number"!==typeof a}g=g.geoenrichment.dijit.ReportPlayer.ReportPlayer;var f={getValueFromFieldData:function(a,b){function l(){h(c,k)?d=void 0:k?(d=f._formatValue(c,a),m=function(b){return f._formatValue(b,a)}):d=String(c)}b=b||{};var c=void 0,d=void 0,m,n=!1,p,q=!1,k=w.isNumericVariableFieldCell(a);if(b.getPreviewValueFunction){var e=b.getPreviewValueFunction({fieldInfo:a,currentFeatureIndex:b.currentFeatureIndex,
currentFeatureAttributes:b.currentFeatureAttributes});e&&(q=!0,e=e.fields&&e.fields[a.name]||e,c=e.value,"string"===typeof e.formattedValue?d=e.formattedValue:l())}q||((c=c=f._getFieldDataValue(a,{fieldData:b.fieldData,featureIndex:b.currentFeatureIndex,featureAttributes:b.currentFeatureAttributes,isMultiFeature:b.isMultiFeature}))&&"object"===typeof c?(b=c,c=b.value,d=v.formatAttributeValue(b,{skipFormattedValue:!0,unavailableDataValue:void 0,format:a})):l());h(c,k)&&(c=void 0);h(d,!1)&&(d=void 0);
void 0===c&&void 0===d&&(console.log("Error: can't calculate value for \x3d\x3e "+a.name),c=NaN,d=r.tables.showUnavailableData?g.unavailableDataShort:"",n=!0);a.triggerJson&&(p={style:t.getConditionalStyle(c,a.triggerJson),value:c,formattedValue:d});return{value:c,formattedValue:d,formatFunction:m,isUnavailableData:n,conditionalStyle:p}},_formatValue:function(a,b){return x.formatNumber(a,{places:b.decimals||0,noSeparator:!b.useThousandsSeparator,preserveTrailingZeroes:!0})},getFieldDataValue:function(a,
b){return(a=f._getFieldDataValue(a,b))&&"object"===typeof a?a.value:a},_getFieldDataValue:function(a,b){return a&&u.getAreaDataValue({fieldName:a.templateName||a.name,fieldData:b.fieldData,featureIndex:b.featureIndex,featureAttributes:b.featureAttributes,isMultiFeature:b.isMultiFeature})}};return f});