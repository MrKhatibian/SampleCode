// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.33/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/dataProvider/_CommandSupport","require dojo/_base/declare dojo/_base/lang esri/dijit/geoenrichment/Deferred esri/dijit/geoenrichment/when ../PlayerCommands ./supportClasses/GEUtil esri/dijit/geoenrichment/ReportPlayer/config".split(" "),function(m,n,k,p,g,e,l,q){var f={};return n(null,{_commands:null,_commandIndex:0,_initCommandsPromise:null,constructor:function(){this._commands={}},_initCommands:function(){var a=this;if(this._initCommandsPromise)return g(this._initCommandsPromise);
var c=new p;if(q.modules.exportCommands)m(["./commands/CreateHTMLCommand","./commands/CreatePDFCommand","./commands/CreateImageCommand","./commands/PrintReportCommand","./commands/CreatePlayerCommand"],function(a,d,h,r,g){f[e.HTML]=a;f[e.PDF]=d;f[e.IMAGE]=h;f[e.PRINT]=r;f[e.DYNAMIC_HTML]=g;l.getInitPromise().then(c.resolve)});else return c.resolve();c.promise.then(function(){a._initCommandsPromise=!0});return this._initCommandsPromise=c.promise},registerCommand:function(a,c,b){function d(b){if(!b.isBrowserSupported||
b.isBrowserSupported())h._commands[a]||(h._commands[a]={index:h._commandIndex++,id:a,label:c||b.label,command:b})}var h=this;if(b)d(b);else return this._initCommands().then(function(){var b=f[a];b&&d(new b)})},getCommands:function(){return this._initCommands().then(function(){var a=[],c=this._commands[e.PDF],b;for(b in this._commands)a.push(this._commands[b]);a.sort(function(a,b){return a.index-b.index});return(b=this._getCurrentContext())&&b.geoenrichmentUrl&&c?g(l.hasCapability("FormatInfographics"),
function(b){b||(a=a.filter(function(a){return a!==c}));return a}):g(a)}.bind(this))},getCommandById:function(a){return this._commands[a]&&this._commands[a].command},executeCommand:function(a,c,b,d){return this._initCommands().then(function(){b=k.mixin({printMapTaskUrl:this.printMapTaskUrl},b);return this._commands[a]&&this._commands[a].command&&this._commands[a].command.execute(c,b||{},d)}.bind(this))},executeCommandOnData:function(a,c,b,d){return this._initCommands().then(function(){b=k.mixin({printMapTaskUrl:this.printMapTaskUrl},
b);return this._commands[a]&&this._commands[a].command&&this._commands[a].command.executeOnData(this,c,b||{},d)}.bind(this))}})});