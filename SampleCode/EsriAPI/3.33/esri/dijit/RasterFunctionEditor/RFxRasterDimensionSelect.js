// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.33/esri/copyright.txt for details.
//>>built
define("esri/dijit/RasterFunctionEditor/RFxRasterDimensionSelect","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has dojo/store/Memory dojo/data/ObjectStore dojo/i18n!../../nls/jsapi dijit/form/Select ../../kernel".split(" "),function(b,c,d,e,f,g,h,k,l){b=b([k],{declaredClass:"esri.dijit.RasterFunctionEditor.RFxRasterDimensionSelect",postCreate:function(){this.inherited(arguments);this._i18n=h.widgets.rasterFunctionEditor.RFxRasterDimensionSelect},startup:function(){this.inherited(arguments);
this.setDimensionOptions()},onRasterChange:function(){this.setDimensionOptions()},setDimensionOptions:function(){if(this.layerArg&&this.layerArg.input){var a=this.layerArg.input;this.set("labelAttr","alias");if(0<a.declaredClass.indexOf("RFxRasterInput")&&a.value&&(a=a.getSelectedLayer(a.get("value").name)))if(a.loaded)this._setDimensionStore(a);else a.on("load",c.hitch(this,function(a){this._setDimensionStore(a.target)}))}},_removeDuplicates:function(a){return d.filter(a,function(a,m,b){return d.indexOf(b,
a)===m})},_setDimensionStore:function(a){var b=[];a.getMultidimensionalInfo().then(c.hitch(this,function(a){a.variables&&a.variables.forEach(function(a){a.dimensions&&a.dimensions.forEach(function(a){b.push(a.name)})});a=d.map(this._removeDuplicates(b),function(a){return{name:a,alias:a}});var c=new g(new f({data:a,idProperty:"name"}));this.set("store",c);this.defaultValue&&this.set("value",this.defaultValue);this.emit("raster-dimension-select-update",a)}))}});e("extend-esri")&&c.setObject("dijit.RasterFunctionEditor.RFxRasterDimensionSelect",
b,l);return b});